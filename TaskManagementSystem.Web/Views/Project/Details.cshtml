@model ProjectDetailsViewModel

@{
	ViewBag.Title = "Project Details";
}

<div class="container py-5 d-flex justify-content-center">

	<div class="card border-0 shadow-sm p-4 w-100" style="max-width: 800px; border-radius: 20px;">

		<div class="card-body">
			<div class="mb-4">
				<a asp-controller="Project" asp-action="All" class="btn btn-light fw-bold small py-2 px-3" style="border-radius: 8px; background-color: #E9E9E9;">
					<span class="material-symbols-outlined align-middle fs-6 me-1">chevron_left</span>
					Back to projects
				</a>
			</div>

			<div class="mb-3">
				<span class="badge bg-white text-dark border fw-normal px-3 py-2 rounded-pill">
					@Model.Category
				</span>
			</div>

			<h1 class="fw-bold mb-3">@Model.Title</h1>

			<p class="text-muted mb-4" style="line-height: 1.6;">
				@Model.Description
			</p>

			<div class="d-flex flex-column gap-2 mb-4">

				<div class="d-flex align-items-center text-dark">
					<span class="material-symbols-outlined me-2 fs-5">person</span>
					<span class="fw-medium">@Model.UserFullName</span>
				</div>

				<div class="d-flex align-items-center text-dark">
					<span class="material-symbols-outlined me-2 fs-5">calendar_month</span>
					<span class="fw-medium">@Model.DueDate</span>
				</div>

				<div class="d-flex align-items-center text-dark">
					<span class="material-symbols-outlined me-2 fs-5">description</span>
					<span class="fw-medium">@Model.Status</span>
				</div>
			</div>

			@if (Model.IsOwner)
			{
				<div class="row g-3">
					<div class="col-md-4">
						<a asp-controller="Project" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-light w-100 py-2 fw-bold" style="border-radius: 8px; background-color: #E9E9E9;">
							Delete
						</a>
					</div>

					<div class="col-md-4">
						<a asp-controller="Project" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-light w-100 py-2 fw-bold" style="border-radius: 8px; background-color: #E9E9E9;">
							Edit
						</a>
					</div>

					<div class="col-md-4">
						<form asp-controller="Project" asp-action="Complete" asp-route-id="@Model.Id" method="post">
							<button type="submit"
									class="btn w-100 py-2 fw-bold @(Model.IsCompleted ? "btn-secondary" : "btn-dark")"
									style="border-radius: 8px;"
									disabled="@Model.IsCompleted">

								<span class="material-symbols-outlined align-middle fs-5 me-1">
									@(Model.IsCompleted ? "task_alt" : "check_circle")
								</span>

								@(Model.IsCompleted ? "Project Completed" : "Mark as Complete")
							</button>
						</form>
					</div>
				</div>
			}
		</div>
	</div>
</div>